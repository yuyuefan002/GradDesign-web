<!DOCTYPE HTML>
<html>
<head>
    <title>选择日期</title>
    <link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all">
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery-1.11.0.min.js"></script>
    <script src="js/echarts.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/GetParam.js"></script>
    <script src="js/GetTopEachDay.js"></script>
    <script src="js/CreateDataForm.js"></script>
    <!-- Custom Theme files -->
    <link href="css/style.css" rel="stylesheet" type="text/css" media="all"/>
    <!-- Custom Theme files -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="Shoplist Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template,
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
    <script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
    <!--Google Fonts-->
    <link href='https://fonts.googleapis.com/css?family=Hind:400,500,300,600,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Oswald:400,700,300' rel='stylesheet' type='text/css'>
    <!-- start-smoth-scrolling -->
    <script type="text/javascript" src="js/move-top.js"></script>
    <script type="text/javascript" src="js/easing.js"></script>
    <script type="text/javascript">
        jQuery(document).ready(function($) {
            $(".scroll").click(function(event){
                event.preventDefault();
                $('html,body').animate({scrollTop:$(this.hash).offset().top},1000);
            });
        });
    </script>
    <!-- //end-smoth-scrolling -->
    <script src="js/simpleCart.min.js"> </script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/GetDev.js"></script>
    <link rel="stylesheet" type="text/css" href="css/buttons.css">
    <!--各种格式设定-->
    <style type="text/css">
        .HintType{
            font-family: 微软雅黑;
            font-size:20px;
            /*font-style:oblique;*/
            /*text-shadow:2px 2px 1px black;*/
        }
        select{
            margin-left: 20px;
            margin-bottom: 200px;
            border: solid 1px #000;
            -webkit-appearance: none;
            -ms-progress-appearance: none;
            -moz-appearance: none;

            padding-right:14px;

            position:relative;
            width:100px;
            height:25px;
            background: #FFFFFF;
            border-radius:5px;
            box-shadow:1px 1px 5px #FFFFFF;
            display:inline-block;
            text-decoration: none;
        }
        select option[selected] {
            font-weight: bold;
        }
        span{
            position:absolute;
            top:3px;
            left:5px;
            right:20px;
            display: inline-block;
            color: #ffffff;
            overflow:hidden;
            text-overflow:ellipsis;
            white-space:nowrap;
        }
    </style>
    <script>

        //点击确定后跳转页面
        $(document).ready(function(){
            $("button").click(function(){
                //var url = "BasicChart.html?index=";
                var url="ChooseDate.html?index=";
                if($("select").val())
                {
                    url+=$("select").val();
                    window.location.href=url;
                }
            });
        });
    </script>
</head>
<body>
<!--header strat here-->
<div class="header">
    <div class="container">
        <div class="header-main">
            <div class="top-nav">
                <div class="content white">
                    <nav class="navbar navbar-default" role="navigation">
                        <div class="navbar-header">
                            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                                <span class="sr-only">Toggle navigation</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                            <div class="navbar-brand logo">
                                <a href="index.html"><img src="images/logo1.png" style="width:60px;height:50px" alt=""></a>
                            </div>
                        </div>
                        <!--导航栏-->
                        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                            <ul class="nav navbar-nav">
                                <li><a href="index.html">Home</a></li>
                                <li class="dropdown">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Data Analysis <b class="caret"></b></a>
                                    <ul class="dropdown-menu multi-column columns-3">
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <ul class="multi-column-dropdown">
                                                    <li><a href="ChooseDev2.html">Basic Line Chart</a></li>
                                                    <li><a href="index.html">Stacked Chart</a></li>
                                                    <li><a href="ScatterChart.html">Scatter Chart</a></li>
                                                    <li><a href="index.html">敬请期待</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </ul>
                                </li>
                                <li class="dropdown">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Video <b class="caret"></b></a>
                                    <ul class="dropdown-menu multi-column columns-3">
                                        <div class="row">
                                            <div class="col-sm-4">
                                                <ul class="multi-column-dropdown">
                                                    <li><a href="Live.html">直播</a></li>
                                                    <li><a href="index.html">历史录像</a></li>
                                                    <li><a href="index.html">敬请期待</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </ul>
                                </li>
                                <li><a href="contact.html">Contact</a></li>
                            </ul>
                            <div class="clearfix"> </div>
                        </div>
                        <!--/.navbar-collapse-->
                    </nav>
                    <!--/.navbar-->
                </div>
            </div>
            <!--登陆窗口-->
            <div class="header-right">
                <div class="search">
                    <div class="head-signin">
                        <h5><a href="login.html"><i class="hd-dign"></i>Sign in</a></h5>
                    </div>
                    <div class="clearfix"> </div>
                </div>
            </div>
            <div class="clearfix"> </div>
        </div>
    </div>
</div>
<div id="main" style="width: 100%;height:900px;margin:0 auto" ></div>
<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('main'));
    myChart.showLoading();
    //获取上页面传递的参数
    GetParam();
    //查询数据库获取每日最大值
    GetTopEachDay(C2);
    //创建适用于生成表单的格式
    var data = CreateDataForm(2018);
    // 基于准备好的dom，初始化echarts实例


    // 指定图表的配置项和数据
    option = {
        backgroundColor: '#404a59',

        title: {
            top: 30,
            text: '2018年人流量统计',
            subtext: C2+'号机',
            left: 'center',
            textStyle: {
                color: '#fff'
            }
        },
        tooltip : {
            trigger: 'item'
        },
        legend: {
            top: '30',
            left: '100',
            data:['每日峰值', 'Top 12'],
            textStyle: {
                color: '#fff'
            }
        },
        calendar: [{
            top: 100,
            left: 'center',
            range: ['2018-01-01', '2018-06-30'],
            splitLine: {
                show: true,
                lineStyle: {
                    color: '#000',
                    width: 4,
                    type: 'solid'
                }
            },
            yearLabel: {
                formatter: '{start}  上半年',
                textStyle: {
                    color: '#fff'
                }
            },
            itemStyle: {
                normal: {
                    color: '#323c48',
                    borderWidth: 1,
                    borderColor: '#111'
                }
            }
        }, {
            top: 340,
            left: 'center',
            range: ['2018-07-01', '2018-12-31'],
            splitLine: {
                show: true,
                lineStyle: {
                    color: '#000',
                    width: 4,
                    type: 'solid'
                }
            },
            yearLabel: {
                formatter: '{start}  下半年',
                textStyle: {
                    color: '#fff'
                }
            },
            itemStyle: {
                normal: {
                    color: '#323c48',
                    borderWidth: 1,
                    borderColor: '#111'
                }
            }
        }],
        series : [
            {
                name: '人流量峰值（人/分钟）',
                type: 'scatter',
                coordinateSystem: 'calendar',
                data: data,
                symbolSize: function (val) {
                    return val[1]/5 ;
                },
                itemStyle: {
                    normal: {
                        color: '#ddb926'
                    }
                }
            },
            {
                name: '人流量峰值（人/分钟）',
                type: 'scatter',
                coordinateSystem: 'calendar',
                calendarIndex: 1,
                data: data,
                symbolSize: function (val) {
                    return val[1]/5;
                },
                itemStyle: {
                    normal: {
                        color: '#ddb926'
                    }
                }
            },
            {
                name: '相对较高人流量',
                type: 'effectScatter',
                coordinateSystem: 'calendar',
                calendarIndex: 1,
                data: data.sort(function (a, b) {
                    return b[1] - a[1];
                }).slice(1, 12),
                symbolSize: function (val) {
                    return val[1]/10;
                },
                showEffectOn: 'render',
                rippleEffect: {
                    brushType: 'stroke'
                },
                hoverAnimation: true,
                itemStyle: {
                    normal: {
                        color: '#f4e925',
                        shadowBlur: 10,
                        shadowColor: '#333'
                    }
                },
                zlevel: 1
            },
            {
                name: '相对较高人流量',
                type: 'effectScatter',
                coordinateSystem: 'calendar',
                data: data.sort(function (a, b) {
                    return b[1] - a[1];
                }).slice(0, 12),
                symbolSize: function (val) {
                    return val[1]/10;
                },
                showEffectOn: 'render',
                rippleEffect: {
                    brushType: 'stroke'
                },
                hoverAnimation: true,
                itemStyle: {
                    normal: {
                        color: '#f4e925',
                        shadowBlur: 10,
                        shadowColor: '#333'
                    }
                },
                zlevel: 1
            }
        ]
    };

    myChart.on('click', function (params) {
        var value = params.data;//value是个数组
        //if(value[0].indexOf("2018")>=0)
        //alert(value);
        var url = "BasicChart3.html?index="+C2+"=";
        url+=value[0];
        window.location.href=url;
    });
    myChart.hideLoading();
    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);

</script>
<!--footer strat here-->
<div class="footer">
    <div class="container">
        <div class="footer-main">
            <div class="ftr-grids-block">
                <div class="col-md-3 footer-grid">
                    <ul>
                        <li><a href="ChooseDev2.html">Basic Line Chart</a></li>
                        <li><a href="index.html">Stacked Line Chart</a></li>
                        <li><a href="ScatterChart.html">Scatter Chart</a></li>
                        <li><a href="Live.html">Live</a></li>
                        <li><a href="index.html">History</a></li>
                    </ul>
                </div>
                <div class="col-md-3 footer-grid">
                    <ul>
                        <li><a href="login.html">Your Account</a></li>
                        <li><a href="contact.html">Contact Us</a></li>
                    </ul>
                </div>
                <div class="col-md-3 footer-grid">
                    <ul>
                        <li><a href="terms.html">Website Terms</a></li>
                        <li><a href="shortcodes.html">Short Codes</a></li>
                    </ul>
                </div>
                <div class="clearfix"> </div>
            </div>
            <div class="copy-rights">
                <p>Copyright &copy; Made by Yuefan Yu </p>
            </div>
        </div>
    </div>
</div>
<!--footer end here-->
</body>
</html>